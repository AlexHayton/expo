include ':app'

// WHEN_DISTRIBUTING_REMOVE_FROM_HERE
include ':expoview'
include ':tools'
include ':ReactAndroid'
include ':unimodules-test-core'
project(':unimodules-test-core').projectDir = new File(rootDir, '../packages/unimodules-test-core/android')

// Include Expo modules that are not unimodules
include(":expo-random")
project(":expo-random").projectDir = new File("../packages/expo-random/android")

[
    // ADD_NEW_SUPPORTED_ABIS_HERE
    "abi41_0_0",
    "abi40_0_0",
    "abi39_0_0",
].forEach({ abiVariant ->
  include ":expoview-$abiVariant"
  project(":expoview-$abiVariant").projectDir = new File(rootDir, "versioned-abis/expoview-$abiVariant")
})
// WHEN_DISTRIBUTING_REMOVE_TO_HERE

// Import gradle helpers and use expo modules.
// The adapter needs to be included manually, as we don't use RN's autolinking in Expo Go.
apply from: '../packages/@unimodules/react-native-adapter/scripts/autolinking.gradle'
include ':unimodules-react-native-adapter'
project(':unimodules-react-native-adapter').projectDir = new File(rootDir, '../packages/@unimodules/react-native-adapter/android')
useExpoModules([
  exclude: [
    'expo-module-template'
  ]
])
